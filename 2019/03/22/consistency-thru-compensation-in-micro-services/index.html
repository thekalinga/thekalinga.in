<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="index, follow">

    <link rel="icon" href="/favicon.ico">

    <!-- Search engine & social media metadata -->
    <meta data-rh="true" property="og:site_name" content="Ashok Koyi" />

    <meta data-rh="true" property="og:type" content="article" />
    <meta data-rh="true" property="og:locale" content="en">

    <title>Consistency thru compensation in micro services&nbsp;|&nbsp;Ashok Koyi</title>
    <meta name="title" content="Consistency thru compensation in micro services&nbsp;|&nbsp;Ashok Koyi">
    <meta data-rh="true" property="og:title" content="Consistency thru compensation in micro services&nbsp;|&nbsp;Ashok Koyi" />
    <meta property="twitter:title" content="Consistency thru compensation in micro services&nbsp;|&nbsp;Ashok Koyi">

    
    <meta name="description" content="Compensating transactions is a way to resolve inconsistency in the face of failures in a micro services environment">
    <meta data-rh="true" property="og:description" content="Compensating transactions is a way to resolve inconsistency in the face of failures in a micro services environment" />
    <meta data-rh="true" property="twitter:description" content="Compensating transactions is a way to resolve inconsistency in the face of failures in a micro services environment" />
    

    <link rel="canonical" href="https://thekalinga.in/2019/03/22/consistency-thru-compensation-in-micro-services/">
    <meta data-rh="true" property="og:url" content="https://thekalinga.in/2019/03/22/consistency-thru-compensation-in-micro-services/" />

    
    
    <meta data-rh="true" property="og:image:secure_url" content="https://thekalinga.in/2019/03/22/consistency-thru-compensation-in-micro-services/consistency-failures.jpg" />
    <meta data-rh="true" name="twitter:image:src" content="https://thekalinga.in/2019/03/22/consistency-thru-compensation-in-micro-services/consistency-failures.jpg" />
    

    
    <meta property="author" content="Ashok Koyi">
    <meta name="twitter:card" content="summary_large_image">
    <link rel="publisher" href="https://thekalinga.in/about">
    <link rel="author" href="https://thekalinga.in/about">
    <meta property="article:publisher" content="https://thekalinga.in/about">
    <meta property="article:author" content="https://thekalinga.in/about">
    <meta name="twitter:creator" content="">
    <meta property="article:published_time" content="2019-03-22T00:00:00+05:30">
    <meta property="article:modified_time" content="2022-12-28T19:57:00+05:30">
    
    
    <meta content="Micro Services" property="article:section">
    
    

    
    
    <meta property="article:tag" content="DDD">
    
    <meta property="article:tag" content="Distributed Systems">
    
    <meta property="article:tag" content="Domain Driven Design">
    
    <meta property="article:tag" content="Micro Services">
    
    

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
        crossorigin="anonymous">
    <!--Heading-->
<!--    <link href="https://fonts.googleapis.com/css?family=Fira+Sans&display=swap" rel="stylesheet">-->
<!--    <link href="https://fonts.googleapis.com/css?family=Montserrat:bold,italic,bolditalic&display=swap" rel="stylesheet">-->
<!--    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,300i,400,400i,500,500i,600,600i,700,700i&display=swap&subset=latin-ext" rel="stylesheet">-->
    <link href="https://fonts.googleapis.com/css?family=Titillium+Web:400,400i,600,600i,700,700i&display=swap" rel="stylesheet">
    <!--Body-->
    <link href="https://fonts.googleapis.com/css?family=Crimson+Pro:200,200i,300,300i,400,400i,500,500i,700,700i&display=swap&subset=latin-ext" rel="stylesheet">
    <!--Code-->
    <link href="https://fonts.googleapis.com/css?family=Fira+Code:300,400,500,600,700&display=swap&subset=cyrillic,cyrillic-ext,greek,greek-ext,latin-ext" rel="stylesheet">
    <link href="/assets/css/screen.css?1672237668278011455" rel="stylesheet">
<!--    <link href="/assets/css/main.css?1672237668278011455" rel="stylesheet">-->
</head>



<body class="layout-post">


    <!-- Begin Menu Navigation
================================================== -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">

        <div class="container pr-0">

            <!-- Begin Logo -->
            <a class="navbar-brand" href="/">
                
                <h1 class="sitetitle"><i class="fas fa-home"></i></h1>
                
            </a>
            <!-- End Logo -->

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>


            <div class="collapse navbar-collapse" id="navbarMediumish">

                <!-- Begin Menu -->

                <ul class="navbar-nav ml-auto">

                    
                    <li class="nav-item">
                        
                        <a class="nav-link" href="/categories">Categories</a>
                    </li>

                    
                    <li class="nav-item">
                        
                        <a class="nav-link" href="/tags">Tags</a>
                    </li>

                    
                    <li class="nav-item">
                        
                        <a class="nav-link" href="/about">About</a>
                    </li>
                </ul>

                <!-- End Menu -->

            </div>

        </div>
    </nav>
    <!-- End Navigation
================================================== -->

    <div class="site-content">
        <div class="container">
            <!-- Content
================================================== -->
            <div class="main-content">
                <!-- Begin Article
================================================== -->
<div class="container">
    <div class="row">

        <!-- Post -->
        <div class="col-md-12 flex-first flex-md-unordered">

            <div class="mainheading">
                <!-- Post Title -->
                <h1 class="posttitle">Consistency thru compensation in micro services</h1>
                <!-- Post Date -->
                <p class="posttitle">
                    <small>
                        <span class="post-date">
                            Posted under
                            <a href="/categories#micro-services" class="post-tag">Micro Services</a>
                            on
                            <time class="post-date" datetime="2019-03-22">22 Mar 2019</time>
                        </span>
                        
                    </small>
                </p>
            </div>

            <!-- Post Content -->
            <div class="article-post">
                <p><img src="consistency-failures.jpg" alt="Consistency thru compensation in micro services" class="featured-image img-fluid margin-auto" /></p>

<p>This article addresses the eventual consistency aspect of transactions in micro services environment where a transaction spans more than one micro service &amp; transaction failure midway is imminent</p>

<h2 id="existing-business-usecase">Existing business usecase</h2>

<p>Suppose that we currently have a monolithic order management system that is backed by a RDBMS</p>

<h3 id="business-requirements">Business requirements</h3>

<p>Our business expects us to give them the following guarantees</p>

<ol>
  <li>Never accept an order if the inventory does not have enough stock</li>
  <li>Every item in the inventory is either assigned to an order (or) available for further purchases by customer within a reasonable amount of time</li>
</ol>

<p>As every seasoned developer knows, Monolith is a heaven for systems that want consistency because of RDBMS &amp; the ACID guarantees it provides. But this comes at the cost of autonomy &amp; scalability</p>

<p>Because of ACID guarantees, when we update both order &amp; inventory tables, either the transaction succeeds (or) fails atomically. Because of this, it is easy to ensure</p>

<blockquote>
  <p><strong>Total inventory</strong> = <strong>Amount of stock left in inventory</strong> + <strong>quantity used up by previous orders</strong></p>
</blockquote>

<p>In essence, its relatively easy to fulfill this requirement in our monolithic world since we will be working against a single database</p>

<blockquote>
  <p>Please note that most of the businesses will be OK if we oversell items even when we don’t have corresponding stock in the inventory. This is because once the order is placed, the business can ask vendors to send it more stock of the oversold items &amp; still fulfill our customer’s order. The point this article addresses is “can the technology live within business constraints”?. Suppose our business does not permit overselling because we are selling rare items, say classic paintings/some other exclusive items, which means we cant oversell as no other vendor can supply additional stock of all items in our inventory</p>
</blockquote>

<h2 id="breaking-monolith">Breaking monolith</h2>

<p>Suppose we chose micro services for achieving autonomy in terms of scalability/development velocity/release schedule, e.t.c, it follows that we can’t share a single database across all of these micro services. Sharing database across micro services forces each team to coordinate with other team as soon as database schema needs to change, which defeats the whole purpose of micro services</p>

<p>Each type of micro service (can have any number of instances) will have to have its own private datastore. In other words, multiple instances of the same service type share a single database, but this database is never shared across micro services</p>

<p>After we identified our <a href="https://martinfowler.com/bliki/BoundedContext.html">bounded contexts</a>, we came up with the following breakup of our monolith into two micro services namely</p>

<ol>
  <li><code>order-service</code> whose responsibility it is to accept customer orders</li>
  <li><code>inventory-service</code> whose responsibility it is to allow changes to inventory by both order service &amp; also by our own internal inventory team</li>
</ol>

<p><img src="svg-optimized/inventory-services-with-actors-and-db.svg" alt="Diagram: Inventory services with db &amp; actors" class="featured-image img-fluid margin-auto" /></p>

<p>At first glance, fulfilling this business requirements in micro services does not look that hard</p>

<p>We can make <code>order-service</code> call to <code>inventory-service</code> to check if sufficient stock exists to fulfil the order. If stock is available, reduce the given quantity of stock &amp; permit the order to go thru. If not, deny the order</p>

<p><img src="svg-optimized/order-placement-sequence-diagram.svg" alt="Diagram: Order placement sequence" class="featured-image img-fluid margin-auto" /></p>

<p>But any seasoned developer will tell you it is not that simple (and I would not have written this article if it was this simple)</p>

<h2 id="problem-with-concurrent-transactions">Problem with concurrent transactions</h2>

<p>Suppose two different users try purchasing the same item simultaneously when not enough stock exists to fulfill both the orders. If proper care is not taken at <code>inventory-service</code> level, we might allow both orders to succeed, even tho we don’t have enough stock to fulfill both</p>

<p><img src="svg-optimized/inventory-overdraw.svg" alt="Diagram: Inventory overdraw" class="featured-image img-fluid margin-auto" /></p>

<p>As any one who is familiar with concurrency control will tell us, why doesn’t <code>inventory-service</code> reject the second request by utilizing <a href="https://www.wikiwand.com/en/Optimistic_concurrency_control">optimistic concurrency control</a> (or) <a href="https://blogs.msdn.microsoft.com/marcelolr/2010/07/16/optimistic-and-pessimistic-concurrency-a-simple-explanation/">pessimistic concurrency control</a></p>

<p>Once we apply this fix, if two users attempt simultaneous purchase only one of them would succeed if fulfilling both orders results in stock becoming negative</p>

<p><img src="svg-optimized/order-placement-sequence-diagram-singleshot-update.svg" alt="Diagram: Sequence diagram of Inventory service with optimistic concurrency control" class="featured-image img-fluid margin-auto" /></p>

<h2 id="problem-with-server-failures">Problem with server failures</h2>

<p>Even with the above solution, we are still left with a problem</p>

<p>When it comes to servers on which our application runs, no one can guarantee that the hardware never fails. So server failure is a given. Every application must keep this in mind &amp; should be resilient to these failures</p>

<p>What if <code>inventory-service</code> reduced the quantity in its database &amp; <code>order-service</code> dies before it commits to its database?</p>

<p><img src="svg-optimized/order-server-fail-sequence-diagram.svg" alt="Diagram: Inventory server dies before local commit after inventory is reduced" class="featured-image img-fluid margin-auto" /></p>

<p>Now we are left with an interesting situation where we have missing inventory from the system because the server crashed. Welcome to <strong>DATA INCONSISTENCY</strong></p>

<h2 id="going-back-to-drawing-board">Going back to drawing board</h2>

<p>Now we know business will be really unhappy because even though we have unsold physical inventory, its missing in the software because one of our server crashed in the middle of the transaction</p>

<p>There are multiple ways this problem can be addressed. In this article I will present one way of addressing this</p>

<p>In the previous approach, <code>order</code> will be either in <code>confirmed</code>/<code>rejected</code> state &amp; the client is stateless</p>

<p>But in our new approach</p>

<ol>
  <li>Order will have three states namely <code>initialized</code>, <code>confirmed</code> &amp; <code>rejected</code></li>
  <li>And our client would be Stateful</li>
  <li>In addition, the client will follow <a href="https://www.theserverside.com/news/1365146/Redirect-After-Post">Redirect after POST</a> pattern</li>
</ol>

<p>The reason for this redirect is because when client encounters a failure like the one in previous scenario, we don’t want the client to retry the operation &amp; place multiple orders for the same cart because user refreshed his browser. The previous pattern avoids this situation completely</p>

<p>Given that, here is our new approach</p>

<ol>
  <li>As soon as a request is received, <code>order-service</code> saves an order with status <code>initialized</code> to its own db</li>
  <li>Immediately, <code>order-service</code> will make call to <code>inventory-service</code> with the <code>&lt;order id&gt;</code> and additional item info to reduce the stock in a background thread with an exclusive <a href="https://www.percona.com/blog/2018/10/16/postgresql-locking-part-1-row-locks/">row level lock</a> on the newly created order</li>
  <li><code>order-service</code> responds to the client with HTTP <code>202 Accepted</code> (if API based client)/<code>302 Found</code> (if browser) response with a link to check the status of the order thru http <code>Location</code> header</li>
  <li>If background order placement succeeds, <code>order-service</code> will update the status of the order to <code>confirmed</code> &amp; releases row level lock on the order</li>
  <li>If not, <code>order-service</code> will update the status of the order to <code>rejected</code> &amp; releases row level lock on the order</li>
  <li>Once client sees above <code>202</code>/<code>302</code> response, it will redirect the user to order status page (incase of browser) so that browser refreshes does not cause duplicate orders. Its a best practice to show loading screen while the order is being processed</li>
  <li>Finally, <code>order-service</code> would respond to the order status request with <code>initialized</code>/<code>confirmed</code>/<code>rejected</code> status</li>
  <li>If the order is not yet concluded, latest status can be obtained by client using polling/server can implement <a href="https://www.wikiwand.com/en/Push_technology">long polling</a> to avoid client putting too much polling load</li>
</ol>

<p>From point <code>(2)</code> of the mechanism above, in normal flow, <code>order-service</code> takes an <code>exclusive row level lock</code> over the order row and releases only once the transaction is concluded</p>

<p>If server crashes in the middle, this lock on that order row would be be released immediately by database</p>

<p>We will use this aspect to make sure that we dont interfere with the transactions that are currently in progress, when we try to reconcile/compensate (will be discussed later)</p>

<p>Now back to the crash issue in <code>order-service</code></p>

<p>Since crash leaves our data in inconsistent state, <code>order-service</code> will have to explicitly <strong>reconcile</strong>/<strong>compensate</strong> for these failures at the application level by fetching the latest status of the order from <code>inventory-service</code> for abandoned orders. This is why its called <code>Compensating Transaction</code></p>

<p>Compensation guarantees order status to be consistent with the business rules <strong>EVENTUALLY</strong>, but not immediately</p>

<p>Depending on how soon we want this reconciliation, we can implement reconciliation in the following three stages</p>

<ol>
  <li>Startup reconciliation: Orders abandoned before the instance is started are guaranteed to be consistent once the instance is up (optional)</li>
  <li>On demand reconciliation: Orders requested by client are guaranteed to be consistent once the request is processed successfully (optional)</li>
  <li>Scheduled reconciliation: Orders that are abandoned before the scheduler ran are guaranteed to be consistent once scheduler runs successfully (mandatory)</li>
</ol>

<p>The guarantees each of the above three reconcilers provides are only valid for those orders for which the reconciler can acquire exclusive lock. If some other instance’s reconciler is doing compensation for any given order, the current reconciler just skips over them</p>

<p>Now lets look at each one of these options &amp; how the reconcilation/compensation works</p>

<h3 id="startup-reconciliation">Startup reconciliation</h3>

<p>This type of reconciliation guarantees that all the orders that were abandoned before the startup of the instance are guaranteed to be consistent once application is up</p>

<p>Suppose that <code>order-service</code> crashed in the middle of a transaction (abandoned). Instance can be brought back online manually/using kubernetes/some other mechanism</p>

<p>Here is what we should do as part of <code>order-service</code> startup to meet above guarantee</p>

<ul>
  <li><code>order-service</code> have to check if there are any orders in <code>initialized</code> state</li>
  <li>Attempt to acquire exclusive row level lock on each of the above orders. If lock cannot be acquired, just skip over it as this order is current being processed by some other instance</li>
  <li>For each of the above order on which lock can be acquired, <code>order-service</code> will request <code>inventory-service</code> about the latest status of the stock consumed by the given <code>&lt;order id&gt;</code></li>
  <li><code>inventory-service</code> will return latest status, which <code>order-service</code> will use to update in its own database &amp; release exclusive row level lock</li>
</ul>

<p>This way, <code>order-service</code> guarantees all orders that were abandoned before the startup will be consistent after startup</p>

<p><img src="svg-optimized/startup-reconciliation.svg" alt="Diagram: Starup reconciliation" class="featured-image img-fluid margin-auto" /></p>

<h3 id="on-demand-reconciliation">On demand reconciliation</h3>

<p>Implementing this gives a guarantee that any abandoned order/transaction will be reconciled on the subsequent status request for that given order. Note that this only reconciles one specific order, not all abandoned orders</p>

<p>The way this works is, as soon as we receive a request for order status</p>

<ol>
  <li><code>order-service</code> will get the status of the order from local db</li>
  <li>If status is <code>initialized</code>, attempt to acquire exclusive row level lock</li>
  <li>If row level lock cannot be acquired (some other instance is working on this), then wait till exclusive row level lock can be acquired on the order</li>
  <li>Once lock is acquired, check if status is still <code>initialized</code>. If true, move to step (5), else return latest status</li>
  <li><code>order-service</code> will request <code>inventory-service</code> about the latest status of the stock consumed by the given <code>&lt;order id&gt;</code></li>
  <li><code>inventory-service</code> will return latest status, which <code>order-service</code> will use to update in its own database &amp; release exclusive row level lock</li>
</ol>

<p>Suppose that we have two instances of <code>order-service</code> &amp; the 1st instance is handling the order request &amp; the server crashed midway just like before. When the client resends order status request (clients are expected to do this on a best effort basis), it will be received by the second instance, at which point, we can do compensation logic for the abandoned order as part of this request. This way client does not have to wait till the scheduled reconciliation to get the latest status (next section)</p>

<p><img src="svg-optimized/sibling-reconciliation.svg" alt="Diagram: Sibling reconciliation" class="featured-image img-fluid margin-auto" /></p>

<h3 id="scheduled-reconciliation">Scheduled reconciliation</h3>

<p>This type of reconciliation guarantees that all the orders that were abandoned before the start of the current run of scheduler are guaranteed to be consistent once scheduler run is complete</p>

<p>Since relying on client to reconcile all orders that failed midway is not a good idea as the client might never be able to contact the server due to network issue or some other reason, we want a mechanism within the application itself that does auto reconciliation at regular interval. This is where scheduled reconciliation comes in</p>

<p>At regular interval we have to <a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/integration.html#scheduling">schedule a task</a> to be run within our application that does the reconciliation</p>

<p>For each run of the scheduled task, this is what the reconciler does</p>

<ul>
  <li><code>order-service</code> will fetch all orders that are in <code>initialized</code> state</li>
  <li>Attempt to acquire exclusive row level lock on each of the above orders. If lock cannot be acquired, just skip over it as this order is current being processed by some other instance</li>
  <li>For each of the above order on which lock can be acquired, <code>order-service</code> will request <code>inventory-service</code> about the latest status of the stock consumed by the given <code>&lt;order id&gt;</code></li>
  <li><code>inventory-service</code> will return latest status, which <code>order-service</code> will use to update in its own database &amp; release exclusive row level lock</li>
</ul>

<p><img src="svg-optimized/scheduled-reconciliation.svg" alt="Diagram: Scheduled reconciliation" class="featured-image img-fluid margin-auto" /></p>

<h2 id="conclusion">Conclusion</h2>

<p>We looked at one approach by which we can achieve resiliency in our application even under server crashes &amp; any intermediate failures</p>

<p>In order to achieve that, we needed</p>

<ol>
  <li>Stateful client</li>
  <li>Compensating transactions/Reconcilers at various levels</li>
</ol>

<p>We looked at three types of reconciliations</p>

<ul>
  <li>Startup reconciliation</li>
  <li>On demand reconciliation</li>
  <li>Scheduled reconciliation</li>
</ul>

<p>It is important to note that each application must have Scheduled reconciler as this guarantees regular reconciliation &amp; is not dependent on external actors. The other two types of reconciliations are optional but preferred</p>

<p>In a typical application, you would have all three reconcilers to reduce the amount of time the system will be in inconsistent state in case of unexpected failures</p>

<p>If you have any queries/suggestions let me know in the comments section</p>

            </div>

            <!-- Post Tags -->
            <div class="after-post-tags">
                <ul class="tags">
                    
                    
                    <li>
                        <a href="/tags#ddd">DDD</a>
                    </li>
                    
                    <li>
                        <a href="/tags#distributed-systems">Distributed Systems</a>
                    </li>
                    
                    <li>
                        <a href="/tags#domain-driven-design">Domain Driven Design</a>
                    </li>
                    
                    <li>
                        <a href="/tags#micro-services">Micro Services</a>
                    </li>
                    
                </ul>
            </div>
            <!-- End Tags -->

            <div class="row">
                <!-- Post Share -->
                <div class="share">
    <p>
        Share
    </p>
    <ul>
        <li class="ml-3 mr-3">
            <a target="_blank" href="https://twitter.com/intent/tweet?text=Consistency thru compensation in micro services&url=https://thekalinga.in/2019/03/22/consistency-thru-compensation-in-micro-services/"
                onclick="window.open(this.href, 'twitter-share', 'width=550,height=435');return false;">
                <i class="fab fa-lg fa-twitter"></i>
            </a>
        </li>

        <li class="ml-3 mr-3">
            <a target="_blank" href="https://facebook.com/sharer.php?u=https://thekalinga.in/2019/03/22/consistency-thru-compensation-in-micro-services/" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
                <i class="fab fa-lg fa-facebook-f"></i>
            </a>
        </li>

        <li class="ml-3 mr-3">
            <a target="_blank" href="https://plus.google.com/share?url=https://thekalinga.in/2019/03/22/consistency-thru-compensation-in-micro-services/" onclick="window.open(this.href, 'facebook-google', 'width=550,height=631');return false;">
                <i class="fab fa-lg fa-google"></i>
            </a>
        </li>

    </ul>
</div>

            </div>

            <!-- Prev/Next -->
            <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
                
                <a class="prev d-block col-md-6" href="https://thekalinga.in/2018/10/04/iconset-inkscape-pipes-and-valves/"> &laquo;
                    Inkscape Iconset: Pipes and Valves</a>
                
                
                <a class="next d-block col-md-6 text-lg-right" href="https://thekalinga.in/2019/09/20/manufatucturing-consent/">Manufacturing Consent — How Democratic operatives are undermining Bernie Sanders 2020 candidacy
                    &raquo; </a>
                
                <div class="clearfix"></div>
            </div>
            <!-- End Categories -->

        </div>
        <!-- End Post -->

    </div>
</div>
<!-- End Article
================================================== -->



<!-- Begin Comments
================================================== -->

<div class="container">
    <div id="comments" class="row justify-content-center mb-5">
        <div class="col-md-12">
            

<div id="gh-comments">
  <br>
  <h4>Comments</h4>
  <div id="gh-comments-list"></div>
</div>

<script src="/assets/js/jquery.min.js"></script>

<script src="/assets/js/github-comments.js"></script>

<script type="text/javascript">
  DoGithubComments(
    "thekalinga/thekalinga.github.io-comments",
    "5"
  );
</script>

<noscript>Please enable JavaScript to view comments.</noscript>


        </div>
    </div>
</div>

<!--End Comments
================================================== -->

            </div>

            <!-- Bottom Alert Bar
================================================== -->
            <div class="alertbar">
                <div class="container text-center">
                    <span>Want to get notified on new <b>post</b>s? Subscribe to newsletter</span>
                    <form action="https://eepurl.com/dIHLhL" method="post" name="mc-embedded-subscribe-form" class="wj-contact-form validate"
                        target="_blank" novalidate>
                        <div class="mc-field-group">
                            <input type="email" placeholder="Email" name="EMAIL" class="required email" id="mce-EMAIL"
                                autocomplete="on" required>
                            <input type="submit" value="Subscribe" name="subscribe" class="heart">
                        </div>
                    </form>
                </div>
            </div>

        </div>
        <!-- /.container>

        <!-- Begin Footer
================================================== -->
        <footer class="footer">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-sm-6 text-center text-md-left copyright-message">
                        No rights reserved. Licensed under <a href="https://creativecommons.org/publicdomain/zero/1.0/">Public Domain Dedication</a>
                    </div>
                    <div class="col-md-6 col-sm-6 text-center text-md-right social-links">
                        <a target="_blank" class="link" href=""><i class="fab fa-google-plus fa-lg google-color"></i></a>
                        <a target="_blank" class="link" href=""><i class="fab fa-facebook-f fa-lg facebook-color"></i></a>
                        <a target="_blank" class="link" href=""><i class="fab fa-twitter fa-lg twitter-color"></i></a>
                        <a target="_blank" class="link" href="https://linkedin.com/in/thekalinga"><i class="fab fa-linkedin fa-lg linkedin-color"></i></a>
                    </div>
                </div>
            </div>
        </footer>
        <!-- End Footer
================================================== -->


    </div>
    <!-- /.site-content>

<!-- Bootstrap core JavaScript
================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    <script src="/assets/js/jquery.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>

    <script src="/assets/js/ie10-viewport-bug-workaround.js"></script>

    <script src="/assets/js/mediumish.js?1672237668278011455"></script>

    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github-gist.min.css"
        integrity="sha256-tAflq+ymku3Khs+I/WcAneIlafYgDiOQ9stIHH985Wo=" crossorigin="anonymous" /> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/googlecode.min.css"
        integrity="sha256-arq4LfC7imzesljdi/Th/9Sws1lwfF/iq5a+A7oycTg=" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/java.min.js" integrity="sha256-RyOs5MjQ+Ef9DQrPHp4QGr2tcNjxLh6mCkkW+sS4doU="
        crossorigin="anonymous"></script>
    <script>
        $(document).ready(function () {
            $('pre code').each(function (i, block) {
                hljs.highlightBlock(block);
            });
        });
    </script>
</body>

</html>
